{"version":3,"sources":["webpack:///./index.jsx","webpack:///./actionCreators/addTrainingData.js","webpack:///./actionCreators/clearTrainingData.js","webpack:///./actionCreators/setInput.js","webpack:///./actionCreators/toggleMode.js","webpack:///./actionCreators/trainingStart.js","webpack:///./actionCreators/trainingStop.js","webpack:///./components/app.jsx","webpack:///./components/debug.jsx","webpack:///./components/drawingBoard.jsx","webpack:///./components/drawingBoardLabel.jsx","webpack:///./components/loader.jsx","webpack:///./components/modeSelector.jsx","webpack:///./components/root.jsx","webpack:///./reducers/index.js","webpack:///./reducers/mode.js","webpack:///./reducers/training.js","webpack:///./reducers/trainingData.js","webpack:///./sagas/drawing.js","webpack:///./sagas/index.js","webpack:///./sagas/mode.js","webpack:///./sagas/waiting.js","webpack:///./store.js","webpack:///./utils.js","webpack:///./nn.js","webpack:///./constants.js"],"names":["styles","use","render","module","hot","accept","Root","RootComponent","ReactDOM","document","querySelector","addTrainingData","type","payload","data","clearTrainingData","CLEAR_TRAINING_DATA","setInput","toggleMode","mode","trainingStart","TRAINING_START","trainingStop","TRAINING_STOP","Row","styled","div","Col","App","DebugOutlet","pre","Debug","props","output","format","JSON","stringify","replacer","key","val","indexOf","PropTypes","arrayOf","shape","input","number","isRequired","connect","trainingData","DrawingBoard","ok","bind","clear","imageData","getImageData","sCanvas","getCanvas","isValidImageData","training","el","width","height","style","border","bool","func","DrawingBoardLabel","compose","branch","renderComponent","Loader","currentFrame","interval","timer","setInterval","update","clearInterval","setState","prevState","frames","length","state","fontFamily","string","Container","fieldset","Input","ModeSelector","handleChange","e","toggle","target","value","combineReducers","action","testing","drawingSaga","call","result","alert","findMaxIndex","prompt","isDigit","put","formatOutput","take","select","rootSaga","all","toggleTesting","modeSaga","console","log","waitingSaga","elevatorMusicFrame","createElement","src","frameBorder","body","appendChild","removeChild","sagaMiddleware","createSagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","persistState","run","sum","arr","reduce","prev","curr","canvas","size","precision","ctx","getContext","cX","Math","floor","cY","i","j","localData","k","push","map","num","toFixed","some","chunk","test","digit","Array","_","identity","network","Architect","Perceptron","trainer","train","trainAsync","activate","SET_INPUT","ADD_TRAINING_DATA","TOGGLE_MODE","TRAINING","TESTING"],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;;AAEA;AACA;;AAEA,qDAAAA,CAAOC,GAAP;;AAEAC,OAAO,iEAAP;;AAEA,IAAI,KAAJ,EAAgB;AACdC,SAAOC,GAAP,CAAWC,MAAX,CAAkB,mBAAlB,EAAuC,YAAM;AAC3CH,WAAOI,IAAP;AACD,GAFD;AAGD;;AAED,SAASJ,MAAT,CAAgBK,aAAhB,EAA+B;AAC7BC,EAAA,iDAAAA,CAASN,MAAT,CAEI;AAAC,kEAAD;AAAA;AACE,gEAAC,aAAD;AADF,GAFJ,EAMEO,SAASC,aAAT,CAAuB,MAAvB,CANF;AAQD;;;;;;;;gCATQR,M;;;;;;;;;;;;ACjBT;;AAEA,IAAMS,kBAAkB,SAAlBA,eAAkB;AAAA,SAAS;AAC/BC,UAAM,qEADyB;AAE/BC,aAAS,EAAEC,UAAF;AAFsB,GAAT;AAAA,CAAxB;;eAKeH,e;AAAf;;;;;;;;gCALMA,e;;;;;;;;;;;;;;ACFN;;AAEA,IAAMI,oBAAoB,SAApBA,iBAAoB;AAAA,SAAO;AAC/BH,UAAM,uEAAAI;AADyB,GAAP;AAAA,CAA1B;;eAIeD,iB;AAAf;;;;;;;;gCAJMA,iB;;;;;;;;;;;;;;ACFN;;AAEA,IAAME,WAAW,SAAXA,QAAW;AAAA,SAAS;AACxBL,UAAM,6DADkB;AAExBC,aAAS,EAAEC,UAAF;AAFe,GAAT;AAAA,CAAjB;;eAKeG,Q;AAAf;;;;;;;;gCALMA,Q;;;;;;;;;;;;;;ACFN;;AAEA,IAAMC,aAAa,SAAbA,UAAa;AAAA,SAAS;AAC1BN,UAAM,+DADoB;AAE1BC,aAAS,EAAEM,UAAF;AAFiB,GAAT;AAAA,CAAnB;;eAKeD,U;AAAf;;;;;;;;gCALMA,U;;;;;;;;;;;;;;ACFN;;AAEA,IAAME,gBAAgB,SAAhBA,aAAgB;AAAA,SAAO;AAC3BR,UAAM,kEAAAS;AADqB,GAAP;AAAA,CAAtB;;eAIeD,a;AAAf;;;;;;;;gCAJMA,a;;;;;;;;;;;;;;ACFN;;AAEA,IAAME,eAAe,SAAfA,YAAe;AAAA,SAAO;AAC1BV,UAAM,iEAAAW;AADoB,GAAP;AAAA,CAArB;;eAIeD,Y;AAAf;;;;;;;;gCAJMA,Y;;;;;;;;;;;;;;;;;;;;;;;;;ACFN;AACA;;AAEA;AACA;AACA;AACA;;AAEA,IAAME,MAAM,kEAAAC,CAAOC,GAAb,iBAAN;;AAKA,IAAMC,MAAM,kEAAAF,CAAOC,GAAb,kBAAN;;AAMA,IAAME,MAAM,SAANA,GAAM;AAAA,SACV;AAAC,OAAD;AAAA;AACE;AAAC,SAAD;AAAA;AACE,kEAAC,8DAAD,OADF;AAEE,kEAAC,mEAAD,OAFF;AAGE,kEAAC,8DAAD,OAHF;AAIE;AAAA;AAAA;AAAA;AAAQ;AAAA;AAAA,YAAG,MAAK,gDAAR;AAAA;AAAA;AAAR;AAJF,KADF;AAOE;AAAC,SAAD;AAAA;AACE,kEAAC,uDAAD;AADF;AAPF,GADU;AAAA,CAAZ;;eAceA,G;AAAf;;;;;;;;gCAzBMJ,G;;gCAKAG,G;;gCAMAC,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBN;AACA;AACA;AACA;;AAEA,IAAMC,cAAc,kEAAAJ,CAAOK,GAArB,iBAAN;;IAIMC,K;;;;;;;;;;;6BAmBK;AAAA,UACCjB,IADD,GACU,KAAKkB,KADf,CACClB,IADD;;AAEP,UAAMmB,SAASF,MAAMG,MAAN,CAAapB,IAAb,CAAf;;AAEA,aACE;AAAC,mBAAD;AAAA;AAAcmB;AAAd,OADF;AAGD;;;2BAlBanB,I,EAAM;AAClB,aAAOqB,KAAKC,SAAL,CACLtB,IADK,EAEL,SAASuB,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AAC1B,eAAO,KAAKD,GAAL,EAAUL,MAAV,GACH,KAAKK,GAAL,EAAUL,MAAV,CAAiBO,OAAjB,CAAyB,CAAzB,CADG,GAC2BD,GADlC;AAED,OALI,EAML,CANK,CAAP;AAQD;;;;EAjBiB,gD;;sBAAdR,K;;;SACe;AACjBjB,UAAM,kDAAA2B,CAAUC,OAAV,CAAkB,kDAAAD,CAAUE,KAAV,CAAgB;AACtCC,aAAO,kDAAAH,CAAUC,OAAV,CAAkB,kDAAAD,CAAUI,MAA5B,EAAoCC,UADL;AAEtCb,cAAQ,kDAAAQ,CAAUC,OAAV,CAAkB,kDAAAD,CAAUI,MAA5B,EAAoCC;AAFN,KAAhB,CAAlB,EAGFA;AAJa;;;eA4BN,mFAAAC,CACb;AAAA,MAAGC,YAAH,QAAGA,YAAH;AAAA,SAAuB,EAAElC,MAAMkC,YAAR,EAAvB;AAAA,CADa,EAEbjB,KAFa,C;;AAAf;;;;;;;;gCAjCMF,W;;gCAIAE,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTN;AACA;AACA;AACA;;AAEA;AACA;;IAEMkB,Y;;;AAMJ,wBAAYjB,KAAZ,EAAmB;AAAA;;AAAA,4HACXA,KADW;;AAGjB,UAAKkB,EAAL,GAAU,MAAKA,EAAL,CAAQC,IAAR,OAAV;AACA,UAAKC,KAAL,GAAa,MAAKA,KAAL,CAAWD,IAAX,OAAb;AAJiB;AAKlB;;;;yBAEI;AAAA,UACeP,KADf,GACyB,KAAKZ,KAD9B,CACKf,QADL;;AAEH,UAAMoC,YAAY,mFAAAC,CAAa,KAAKC,OAAL,CAAaC,SAAb,EAAb,CAAlB;;AAEA,UAAI,uFAAAC,CAAiBJ,SAAjB,CAAJ,EAAiC;AAC/BT,cAAMS,SAAN;AACD;;AAED,WAAKD,KAAL;AACD;;;4BAEO;AACN,WAAKG,OAAL,CAAaH,KAAb;AACD;;;6BAEQ;AAAA;;AAAA,UACCM,QADD,GACc,KAAK1B,KADnB,CACC0B,QADD;;;AAGP,aACE;AAAA;AAAA;AACE,oEAAC,8DAAD;AACE,eAAK;AAAA,mBAAO,OAAKH,OAAL,GAAeI,EAAtB;AAAA,WADP;AAEE,oBAAU,CAFZ;AAGE,oBAAU,CAHZ;AAIE,mBAAS,CAJX;AAKE,uBAAa;AACXC,mBAAO,GADI;AAEXC,oBAAQ,GAFG;AAGXC,mBAAO,EAAEC,QAAQ,uBAAV;AAHI;AALf,UADF;AAYE,+EAZF;AAaE;AAAA;AAAA;AACE,qBAAS,KAAKX,KADhB;AAEE,sBAAUM;AAFZ;AAAA;AAAA,SAbF;AAmBG,WAnBH;AAoBE;AAAA;AAAA;AACE,qBAAS,KAAKR,EADhB;AAEE,sBAAUQ;AAFZ;AAAA;AAAA;AApBF,OADF;AA6BD;;;;EA5DwB,gD;;sBAArBT,Y;;;SACe;AACjBS,cAAU,kDAAAjB,CAAUuB,IAAV,CAAelB,UADR;AAEjB7B,cAAU,kDAAAwB,CAAUwB,IAAV,CAAenB;AAFR;;;eA8DN,mFAAAC,CACb;AAAA,MAAGW,QAAH,QAAGA,QAAH;AAAA,SAAmB,EAAEA,kBAAF,EAAnB;AAAA,CADa,EAEb,EAAEzC,UAAA,yEAAF,EAFa,EAGbgC,YAHa,C;;AAAf;;;;;;;;gCA/DMA,Y;;;;;;;;;;;;;;;;;;;;;;;;ACRN;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,IAAMiB,oBAAoB,SAApBA,iBAAoB;AAAA,SACxB;AAAA;AAAA;AAAA;AAAA,GADwB;AAAA,CAA1B;;eAIe,yDAAAC,CACb,mFAAApB,CACE;AAAA,MAAGW,QAAH,QAAGA,QAAH;AAAA,SAAmB,EAAEA,kBAAF,EAAnB;AAAA,CADF,CADa,EAIb,wDAAAU,CACE;AAAA,MAAGV,QAAH,SAAGA,QAAH;AAAA,SAAkBA,QAAlB;AAAA,CADF,EAEE,iEAAAW,CAAgB,wDAAhB,CAFF,EAGE,wDAHF,CAJa,EASbH,iBATa,C;;AAAf;;;;;;;;gCAJMA,iB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTN;AACA;;IAEMI,M;;;;;;;;;;;;;;;;;aAWI;AACNC,sBAAc;AADR;;;;;;wCAIY;AAAA,UACVC,QADU,GACG,KAAKxC,KADR,CACVwC,QADU;;;AAGlB,WAAKC,KAAL,GAAaC,YAAY,KAAKC,MAAL,CAAYxB,IAAZ,CAAiB,IAAjB,CAAZ,EAAoCqB,QAApC,CAAb;AACD;;;2CAEsB;AACrBI,oBAAc,KAAKH,KAAnB;AACD;;;6BAEQ;AACP,WAAKI,QAAL,CAAc,UAACC,SAAD;AAAA,YAAcC,MAAd,SAAcA,MAAd;AAAA,4BACTD,SADS;AAEZP,wBAAcO,UAAUP,YAAV,GAAyBQ,OAAOC,MAAP,GAAgB,CAAzC,GACZF,UAAUP,YAAV,GAAyB,CADb,GACiB;AAHnB;AAAA,OAAd;AAKD;;;6BAEQ;AAAA,UACCQ,MADD,GACY,KAAK/C,KADjB,CACC+C,MADD;AAAA,UAECR,YAFD,GAEkB,KAAKU,KAFvB,CAECV,YAFD;;;AAIP,aACE;AAAA;AAAA;AAAA;AAEG,WAFH;AAGE;AAAA;AAAA,YAAM,OAAO,EAAEW,YAAY,WAAd,EAAb;AAA2CH,iBAAOR,YAAP;AAA3C;AAHF,OADF;AAOD;;;;EA5CkB,gD;;sBAAfD,M;;;SACe;AACjBE,cAAU,kDAAA/B,CAAUI,MAAV,CAAiBC,UADV;AAEjBiC,YAAQ,kDAAAtC,CAAUC,OAAV,CAAkB,kDAAAD,CAAU0C,MAA5B,EAAoCrC;AAF3B;;sBADfwB,M;;;SAMkB;AACpBE,cAAU,GADU;AAEpBO,YAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,IAAhB;AAFY;;eAyCTT,M;;;AAAf;;;;;;;;gCA/CMA,M;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHN;AACA;AACA;AACA;;AAEA;AACA;;AAEA,IAAMc,YAAY,kEAAA3D,CAAO4D,QAAnB,iBAAN;;AAMA,IAAMC,QAAQ,kEAAA7D,CAAOmB,KAAf,kBAAN;;IAQM2C,Y;;;AAOJ,wBAAYvD,KAAZ,EAAmB;AAAA;;AAAA,4HACXA,KADW;;AAGjB,UAAKwD,YAAL,GAAoB,MAAKA,YAAL,CAAkBrC,IAAlB,OAApB;AAHiB;AAIlB,G,CAXoC;;;;;iCAaxBsC,C,EAAG;AAAA,UACMC,MADN,GACiB,KAAK1D,KADtB,CACNd,UADM;;;AAGdwE,aAAOD,EAAEE,MAAF,CAASC,KAAhB;AACD;;;6BAEQ;AAAA,mBACoB,KAAK5D,KADzB;AAAA,UACCb,IADD,UACCA,IADD;AAAA,UACOuC,QADP,UACOA,QADP;;;AAGP,aACE;AAAC,iBAAD;AAAA;AACE,oEAAC,KAAD;AACE,gBAAK,OADP;AAEE,gBAAK,MAFP;AAGE,cAAG,OAHL;AAIE,iBAAO,4DAJT;AAKE,mBAASvC,SAAS,4DALpB;AAME,oBAAU,KAAKqE,YANjB;AAOE,oBAAU9B;AAPZ,UADF;AAUE;AAAA;AAAA,YAAO,SAAQ,OAAf;AAAA;AAAA,SAVF;AAYE,oEAAC,KAAD;AACE,gBAAK,OADP;AAEE,gBAAK,MAFP;AAGE,cAAG,MAHL;AAIE,iBAAO,2DAJT;AAKE,mBAASvC,SAAS,2DALpB;AAME,oBAAU,KAAKqE,YANjB;AAOE,oBAAU9B;AAPZ,UAZF;AAqBE;AAAA;AAAA,YAAO,SAAQ,MAAf;AAAA;AAAA;AArBF,OADF;AAyBD;;;;EA/CwB,gD;;sBAArB6B,Y;;;SACe;AACjBpE,UAAM,kDAAAsB,CAAU0C,MAAV,CAAiBrC,UADN;AAEjBY,cAAU,kDAAAjB,CAAUuB,IAAV,CAAelB,UAFR;AAGjB5B,gBAAY,kDAAAuB,CAAUwB,IAAV,CAAenB;AAHV;;;eAiDN,mFAAAC,CACb;AAAA,MAAG5B,IAAH,QAAGA,IAAH;AAAA,MAASuC,QAAT,QAASA,QAAT;AAAA,SAAyB;AACvBvC,cADuB;AAEvBuC;AAFuB,GAAzB;AAAA,CADa,EAKb,EAAExC,YAAA,2EAAF,EALa,EAMbqE,YANa,C;;AAAf;;;;;;;;gCAhEMH,S;;gCAMAE,K;;gCAQAC,Y;;;;;;;;;;;;;;;;;;ACtBN;AACA;;AAEA;AACA;;AAEA,IAAMjF,OAAO,SAAPA,IAAO;AAAA,SACX;AAAC,iEAAD;AAAA,MAAU,OAAO,sDAAjB;AACE,gEAAC,+DAAD;AADF,GADW;AAAA,CAAb;;eAMeA,I;AAAf;;;;;;;;gCANMA,I;;;;;;;;;;;;;;;;;ACNN;;AAEA;AACA;AACA;;eAEe,qFAAAuF,CAAgB;AAC7B1E,QAAA,sDAD6B;AAE7BuC,YAAA,0DAF6B;AAG7BV,gBAAA,8DAAAA;AAH6B,CAAhB,C;;AAAf;;;;;;;;;;;;;;;;;;;;;ACNA;;AAEe,SAAS7B,IAAT,GAAwC;AAAA,MAA1B8D,KAA0B,uEAAlB,4DAAkB;AAAA,MAARa,MAAQ;AAAA,MAC7ClF,IAD6C,GAC3BkF,MAD2B,CAC7ClF,IAD6C;AAAA,MACvCC,OADuC,GAC3BiF,MAD2B,CACvCjF,OADuC;;;AAGrD,UAAQD,IAAR;AACE,SAAK,+DAAL;AACE,aAAOC,QAAQM,IAAf;;AAEF;AACE,aAAO8D,KAAP;AALJ;AAOD;;;;;;;;gCAVuB9D,I;;;;;;;;;;;;;ACFxB;;AAEe,SAASuC,QAAT,GAAyC;AAAA,MAAvBuB,KAAuB,uEAAf,KAAe;AAAA,MAARa,MAAQ;AAAA,MAC9ClF,IAD8C,GACrCkF,MADqC,CAC9ClF,IAD8C;;;AAGtD,UAAQA,IAAR;AACE,SAAK,kEAAL;AACE,aAAO,IAAP;;AAEF,SAAK,iEAAL;AACE,aAAO,KAAP;;AAEF;AACE,aAAOqE,KAAP;AARJ;AAUD;;;;;;;;gCAbuBvB,Q;;;;;;;;;;;;;;ACFxB;;AAEA,SAASV,YAAT,GAA0C;AAAA,MAApBiC,KAAoB,uEAAZ,EAAY;AAAA,MAARa,MAAQ;AAAA,MAChClF,IADgC,GACdkF,MADc,CAChClF,IADgC;AAAA,MAC1BC,OAD0B,GACdiF,MADc,CAC1BjF,OAD0B;;;AAGxC,UAAQD,IAAR;AACE,SAAK,qEAAL;AACE,0CACKqE,KADL,IAEEpE,QAAQC,IAFV;;AAKF,SAAK,uEAAL;AACE,aAAO,EAAP;;AAEF;AACE,aAAOmE,KAAP;AAXJ;AAaD;;eAEcjC,Y;AAAf;;;;;;;;gCAlBSA,Y;;;;;;;;;;;;;;;;;;;eCKC+C,O,EAMArC,Q,EAYesC,W;;AAzBzB;;AAEA;AACA;AACA;AACA;;AAEA,SAAUD,OAAV,CAAkBnD,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACuB,uFAAAqD,CAAK,iDAAL,EAAWrD,KAAX,CADvB;;AAAA;AACQsD,gBADR;;;AAGEC,8BAAkB,mFAAAC,CAAaF,MAAb,CAAlB,QAHF,CAG8C;;AAH9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMA,SAAUxC,QAAV,CAAmBd,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AACQgD,eADR,GACgBS,OAAO,mBAAP,CADhB,EAC6C;;AAD7C,gBAGMT,UAAU,IAHhB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,iBAOQ,8EAAAU,CAAQV,KAAR,IACF,sFAAAW,CAAI,uGAAA5F,CAAgB,EAAEiC,YAAF,EAASX,QAAQ,mFAAAuE,CAAa,CAACZ,KAAd,CAAjB,EAAhB,CAAJ,CADE,GAEF,uFAAAK,CAAKvC,QAAL,EAAed,KAAf,CATN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYe,SAAUoD,WAAV;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,iBAEyB,uFAAAS,CAAK,6DAAL,CAFzB;;AAAA;AAAA;AAEQ3F,cAFR,QAEHD,OAFG,CAEQC,IAFR;AAAA;AAAA,iBAGY,yFAAA4F,EAHZ;;AAAA;AAAA;AAGHvF,cAHG,SAGHA,IAHG;AAAA,yBAKHA,IALG;AAAA,4CAMJ,4DANI,yBAUJ,2DAVI;AAAA;;AAAA;AAAA;AAAA,iBAOD,uFAAA8E,CAAKvC,QAAL,EAAe5C,IAAf,CAPC;;AAAA;AAAA;;AAAA;AAAA;AAAA,iBAWD,uFAAAmF,CAAKF,OAAL,EAAcjF,IAAd,CAXC;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;gCAlBLiF,O;;gCAMArC,Q;;gCAYesC,W;;;;;;;;;;;;;;;;eCnBAW,Q;;AANzB;;AAEA;AACA;AACA;;AAEe,SAAUA,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACP,sFAAAC,CAAI,CACR,uFAAAX,CAAK,sDAAL,CADQ,EAER,uFAAAA,CAAK,yDAAL,CAFQ,EAGR,uFAAAA,CAAK,yDAAL,CAHQ,CAAJ,CADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;gCAAUU,Q;;;;;;;;;;;;;;;;;;eCEfE,a,EAmBeC,Q;;AA3BzB;;AAEA;AACA;AACA;AACA;AACA;;AAEA,SAAUD,aAAV;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACiC,yFAAAH,EADjC;;AAAA;AAAA;AACU1D,sBADV,QACUA,YADV;;AAAA,cAGOA,aAAagC,MAHpB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,iBAOQ,sFAAAuB,CAAI,qGAAAnF,EAAJ,CAPR;;AAAA;AAAA;AAAA,iBASuB,uFAAA6E,CAAK,kDAAL,EAAYjD,YAAZ,EAA0B;AAC7C;AAD6C,WAA1B,CATvB;;AAAA;AASQkD,gBATR;;;AAaEa,kBAAQC,GAAR,CAAYd,MAAZ,EAbF,CAauB;;AAbvB;AAAA,iBAeQ,sFAAAK,CAAI,yGAAAxF,EAAJ,CAfR;;AAAA;AAAA;AAAA,iBAgBQ,sFAAAwF,CAAI,oGAAAjF,EAAJ,CAhBR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAmBe,SAAUwF,QAAV;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,iBAEL,uFAAAL,CAAK,+DAAL,CAFK;;AAAA;AAAA;AAAA,iBAIY,yFAAAC,EAJZ;;AAAA;AAAA;AAIHvF,cAJG,SAIHA,IAJG;;AAAA,gBAMPA,SAAS,2DANF;AAAA;AAAA;AAAA;;AAAA;AAAA,iBAOH,uFAAA8E,CAAKY,aAAL,CAPG;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;gCAnBLA,a;;gCAmBeC,Q;;;;;;;;;;;;;;eCvBAG,W;;AAJzB;;AAEA;;AAEe,SAAUA,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,iBAEL,uFAAAR,CAAK,kEAAL,CAFK;;AAAA;AAILS,4BAJK,GAIgBzG,SAAS0G,aAAT,CAAuB,QAAvB,CAJhB;;;AAMXD,6BAAmBtD,KAAnB,GAA2B,CAA3B;AACAsD,6BAAmBrD,MAAnB,GAA4B,CAA5B;AACAqD,6BAAmBE,GAAnB,GAAyB,8FAAzB;AACAF,6BAAmBG,WAAnB,GAAiC,CAAjC;;AAEA5G,mBAAS6G,IAAT,CAAcC,WAAd,CAA0BL,kBAA1B;;AAXW;AAAA,iBAaL,uFAAAT,CAAK,iEAAL,CAbK;;AAAA;;AAeXhG,mBAAS6G,IAAT,CAAcE,WAAd,CAA0BN,kBAA1B;AAfW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;gCAAUD,W;;;;;;;;;;;;;;;;;ACJzB;AACA;AACA;;AAEA;AACA;;AAEA,IAAMQ,iBAAiB,kFAAAC,EAAvB;;AAEA;AACA,IAAMC,mBAAmBC,OAAOC,oCAAP,IAA+C,sDAAxE;;AAEA,IAAMC,QAAQ,iFAAAC,CACZ,0DADY,EAEZJ,iBACE,qFAAAK,CAAgBP,cAAhB,CADF,EAEE,0DAAAQ,CAAa,cAAb,CAFF,CAFY,CAAd;;AAQAR,eAAeS,GAAf,CAAmB,uDAAnB;;eAEeJ,K;AAAf;;;;;;;;gCAfML,c;;gCAGAE,gB;;gCAEAG,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZN,SAASK,GAAT,CAAaC,GAAb,EAAkB;AAChB,SAAOA,IAAIC,MAAJ,CAAW,UAACC,IAAD,EAAOC,IAAP;AAAA,WAAgBD,OAAOC,IAAvB;AAAA,GAAX,EAAwC,CAAxC,CAAP;AACD;;AAEM,SAASjF,YAAT,CAAsBkF,MAAtB,EAAwD;AAAA,MAA1BC,IAA0B,uEAAnB,EAAmB;AAAA,MAAfC,SAAe,uEAAH,CAAG;;AAC7D,MAAMC,MAAMH,OAAOI,UAAP,CAAkB,IAAlB,CAAZ;AACA,MAAMC,KAAKC,KAAKC,KAAL,CAAWP,OAAO5E,KAAP,GAAe6E,IAA1B,CAAX;AACA,MAAMO,KAAKF,KAAKC,KAAL,CAAWP,OAAO3E,MAAP,GAAgB4E,IAA3B,CAAX;AACA,MAAM3H,OAAO,EAAb;;AAEA,OAAK,IAAImI,IAAI,CAAb,EAAgBA,IAAIJ,EAApB,EAAwBI,KAAK,CAA7B,EAAgC;AAC9B,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,EAApB,EAAwBE,KAAK,CAA7B,EAAgC;AAAA,8BACFP,IAAIrF,YAAJ,CAC1B2F,IAAIR,IADsB,EAE1BS,IAAIT,IAFsB,EAG1BA,IAH0B,EAI1BA,IAJ0B,CADE;AAAA,UAChBpF,SADgB,qBACtBvC,IADsB;;AAQ9B,UAAMqI,YAAY,EAAlB;;AAEA,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI/F,UAAU2B,MAA9B,EAAsCoE,KAAK,CAA3C,EAA8C;AAC5CD,kBAAUE,IAAV,CAAehG,UAAU+F,IAAI,CAAd,CAAf;AACD;;AAEDtI,WAAKuI,IAAL,CAAUlB,IAAIgB,SAAJ,IAAiBA,UAAUnE,MAArC;AACD;AACF;;AAED,SAAOlE,KAAKwI,GAAL,CAAS;AAAA,WAAO,CAACC,IAAIC,OAAJ,CAAYd,SAAZ,CAAR;AAAA,GAAT,CAAP;AACD;;AAEM,SAASjF,gBAAT,CAA0B3C,IAA1B,EAAgC;AACrC,SAAOA,KAAK2I,IAAL,CAAU;AAAA,WAAS,CAAC,CAACC,KAAX;AAAA,GAAV,CAAP;AACD;;AAEM,SAASpD,OAAT,CAAiBV,KAAjB,EAAwB;AAC7B,SAAO,QAAO+D,IAAP,CAAY/D,KAAZ;AAAP;AACD;;AAEM,SAASY,YAAT,CAAsBoD,KAAtB,EAA6B;AAClC,SAAO,6BAAIC,MAAM,EAAN,CAAJ,GAAeP,GAAf,CAAmB,UAACQ,CAAD,EAAIb,CAAJ;AAAA,WAAU,EAAEA,MAAMW,KAAR,CAAV;AAAA,GAAnB,CAAP;AACD;;AAEM,SAASG,QAAT,CAAkBxH,GAAlB,EAAuB;AAC5B,SAAOA,GAAP;AACD;;AAEM,SAAS6D,YAAT,CAAsBgC,GAAtB,EAA2B;AAChC,SAAOA,IAAIC,MAAJ,CAAW,UAACC,IAAD,EAAOC,IAAP,EAAaU,CAAb,EAAgBrC,GAAhB;AAAA,WACb2B,OAAO3B,IAAI0B,IAAJ,CAAP,GAAmBW,CAAnB,GAAuBX,IADV;AAAA,GAAX,EAC4B,CAD5B,CAAP;AAED;;;;;;;;gCAnDQH,G;;gCAIO7E,Y;;gCA4BAG,gB;;gCAIA6C,O;;gCAIAE,Y;;gCAIAuD,Q;;gCAIA3D,Y;;;;;;;;;;;;;;;AChDhB;;AAEA,IAAM4D,UAAU,IAAI,mDAAAC,CAAUC,UAAd,CAAyB,GAAzB,EAA8B,EAA9B,CAAiC,UAAjC,EAA6C,EAA7C,CAAhB;;AAEA,IAAMC,UAAU,IAAI,iDAAJ,CAAYH,OAAZ,CAAhB;;AAEA,IAAMI,QAAQD,QAAQE,UAAR,CAAmBlH,IAAnB,CAAwBgH,OAAxB,CAAd;AACA,IAAMR,OAAOK,QAAQM,QAAR,CAAiBnH,IAAjB,CAAsB6G,OAAtB,CAAb;;AAEA;;;;;;;;gCAPMA,O;;gCAEAG,O;;gCAEAC,K;;gCACAT,I;;;;;;;;;;;;;;;;;;;ACPC,IAAMY,YAAY,WAAlB;;AAEA,IAAMC,oBAAoB,mBAA1B;AACA,IAAMxJ,sBAAsB,qBAA5B;;AAEA,IAAMK,iBAAiB,gBAAvB;AACA,IAAME,gBAAgB,eAAtB;;AAEA,IAAMkJ,cAAc,aAApB;AACA,IAAMC,WAAW,UAAjB;AACA,IAAMC,UAAU,SAAhB;;;;;;;;gCAVMJ,S;;gCAEAC,iB;;gCACAxJ,mB;;gCAEAK,c;;gCACAE,a;;gCAEAkJ,W;;gCACAC,Q;;gCACAC,O","file":"03112527365b271eb5b2.main.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { AppContainer } from 'react-hot-loader';\n\nimport styles from 'normalize.css';\nimport Root from './components/root';\n\nstyles.use();\n\nrender(Root);\n\nif (module.hot) {\n  module.hot.accept('./components/root', () => {\n    render(Root);\n  });\n}\n\nfunction render(RootComponent) {\n  ReactDOM.render(\n    (\n      <AppContainer>\n        <RootComponent />\n      </AppContainer>\n    ),\n    document.querySelector('#app'),\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.jsx","import { ADD_TRAINING_DATA } from '../constants';\n\nconst addTrainingData = data => ({\n  type: ADD_TRAINING_DATA,\n  payload: { data },\n});\n\nexport default addTrainingData;\n\n\n\n// WEBPACK FOOTER //\n// ./actionCreators/addTrainingData.js","import { CLEAR_TRAINING_DATA } from '../constants';\n\nconst clearTrainingData = () => ({\n  type: CLEAR_TRAINING_DATA,\n});\n\nexport default clearTrainingData;\n\n\n\n// WEBPACK FOOTER //\n// ./actionCreators/clearTrainingData.js","import { SET_INPUT } from '../constants';\n\nconst setInput = data => ({\n  type: SET_INPUT,\n  payload: { data },\n});\n\nexport default setInput;\n\n\n\n// WEBPACK FOOTER //\n// ./actionCreators/setInput.js","import { TOGGLE_MODE } from '../constants';\n\nconst toggleMode = mode => ({\n  type: TOGGLE_MODE,\n  payload: { mode },\n});\n\nexport default toggleMode;\n\n\n\n// WEBPACK FOOTER //\n// ./actionCreators/toggleMode.js","import { TRAINING_START } from '../constants';\n\nconst trainingStart = () => ({\n  type: TRAINING_START,\n});\n\nexport default trainingStart;\n\n\n\n// WEBPACK FOOTER //\n// ./actionCreators/trainingStart.js","import { TRAINING_STOP } from '../constants';\n\nconst trainingStop = () => ({\n  type: TRAINING_STOP,\n});\n\nexport default trainingStop;\n\n\n\n// WEBPACK FOOTER //\n// ./actionCreators/trainingStop.js","import React from 'react';\nimport styled from 'styled-components';\n\nimport ModeSelector from './modeSelector';\nimport DrawingBoardLabel from './drawingBoardLabel';\nimport DrawingBoard from './drawingBoard';\nimport Debug from './debug';\n\nconst Row = styled.div`\n  display: flex;\n  padding: 1em;\n`;\n\nconst Col = styled.div`\n  &:not(:first-child) {\n    margin-left: 2em;\n  }\n`;\n\nconst App = () => (\n  <Row>\n    <Col>\n      <ModeSelector />\n      <DrawingBoardLabel />\n      <DrawingBoard />\n      <p>View <a href=\"https://github.com/rkrupinski/text-recognition\">source</a></p>\n    </Col>\n    <Col>\n      <Debug />\n    </Col>\n  </Row>\n);\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./components/app.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\n\nconst DebugOutlet = styled.pre`\n  margin: 0;\n`;\n\nclass Debug extends Component {\n  static propTypes = {\n    data: PropTypes.arrayOf(PropTypes.shape({\n      input: PropTypes.arrayOf(PropTypes.number).isRequired,\n      output: PropTypes.arrayOf(PropTypes.number).isRequired,\n    })).isRequired,\n  }\n\n  static format(data) {\n    return JSON.stringify(\n      data,\n      function replacer(key, val) {\n        return this[key].output ?\n            this[key].output.indexOf(1) : val;\n      },\n      2,\n    );\n  }\n\n  render() {\n    const { data } = this.props;\n    const output = Debug.format(data);\n\n    return (\n      <DebugOutlet>{output}</DebugOutlet>\n    );\n  }\n}\n\nexport default connect(\n  ({ trainingData }) => ({ data: trainingData }),\n)(Debug);\n\n\n\n// WEBPACK FOOTER //\n// ./components/debug.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport SignatureCanvas from 'react-signature-canvas';\n\nimport setInput from '../actionCreators/setInput';\nimport { getImageData, isValidImageData } from '../utils';\n\nclass DrawingBoard extends Component {\n  static propTypes = {\n    training: PropTypes.bool.isRequired,\n    setInput: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.ok = this.ok.bind(this);\n    this.clear = this.clear.bind(this);\n  }\n\n  ok() {\n    const { setInput: input } = this.props;\n    const imageData = getImageData(this.sCanvas.getCanvas());\n\n    if (isValidImageData(imageData)) {\n      input(imageData);\n    }\n\n    this.clear();\n  }\n\n  clear() {\n    this.sCanvas.clear();\n  }\n\n  render() {\n    const { training } = this.props;\n\n    return (\n      <div>\n        <SignatureCanvas\n          ref={el => (this.sCanvas = el)}\n          minWidth={4}\n          maxWidth={4}\n          dotSize={4}\n          canvasProps={{\n            width: 200,\n            height: 200,\n            style: { border: '2px groove threedface' },\n          }}\n        />\n        <br />\n        <button\n          onClick={this.clear}\n          disabled={training}\n        >\n          Clear\n        </button>\n        {' '}\n        <button\n          onClick={this.ok}\n          disabled={training}\n        >\n          Go!\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  ({ training }) => ({ training }),\n  { setInput },\n)(DrawingBoard);\n\n\n\n// WEBPACK FOOTER //\n// ./components/drawingBoard.jsx","import React from 'react';\nimport compose from 'recompose/compose';\nimport branch from 'recompose/branch';\nimport renderComponent from 'recompose/renderComponent';\nimport { connect } from 'react-redux';\n\nimport Loader from './loader';\nimport { identity } from '../utils';\n\nconst DrawingBoardLabel = () => (\n  <p>Draw a digit:</p>\n);\n\nexport default compose(\n  connect(\n    ({ training }) => ({ training }),\n  ),\n  branch(\n    ({ training }) => training,\n    renderComponent(Loader),\n    identity,\n  ),\n)(DrawingBoardLabel);\n\n\n\n// WEBPACK FOOTER //\n// ./components/drawingBoardLabel.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Loader extends Component {\n  static propTypes = {\n    interval: PropTypes.number.isRequired,\n    frames: PropTypes.arrayOf(PropTypes.string).isRequired,\n  }\n\n  static defaultProps = {\n    interval: 100,\n    frames: ['|', '/', '-', '\\\\'],\n  }\n\n  state = {\n    currentFrame: 0,\n  }\n\n  componentDidMount() {\n    const { interval } = this.props;\n\n    this.timer = setInterval(this.update.bind(this), interval);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  update() {\n    this.setState((prevState, { frames }) => ({\n      ...prevState,\n      currentFrame: prevState.currentFrame < frames.length - 1 ?\n        prevState.currentFrame + 1 : 0,\n    }));\n  }\n\n  render() {\n    const { frames } = this.props;\n    const { currentFrame } = this.state;\n\n    return (\n      <p>\n        Please wait\n        {' '}\n        <span style={{ fontFamily: 'monospace' }}>{frames[currentFrame]}</span>\n      </p>\n    );\n  }\n}\n\nexport default Loader;\n\n\n\n// WEBPACK FOOTER //\n// ./components/loader.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\n\nimport toggleMode from '../actionCreators/toggleMode';\nimport { TESTING, TRAINING } from '../constants';\n\nconst Container = styled.fieldset`\n  display: inline-block;\n  padding: .5em;\n  margin: 0;\n`;\n\nconst Input = styled.input`\n  margin-right: .25em;\n\n  &:not(:first-child) {\n    margin-left: 1em;\n  }\n`;\n\nclass ModeSelector extends Component { // eslint-disable-line\n  static propTypes = {\n    mode: PropTypes.string.isRequired,\n    training: PropTypes.bool.isRequired,\n    toggleMode: PropTypes.func.isRequired,\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    const { toggleMode: toggle } = this.props;\n\n    toggle(e.target.value);\n  }\n\n  render() {\n    const { mode, training } = this.props;\n\n    return (\n      <Container>\n        <Input\n          type=\"radio\"\n          name=\"mode\"\n          id=\"train\"\n          value={TRAINING}\n          checked={mode === TRAINING}\n          onChange={this.handleChange}\n          disabled={training}\n        />\n        <label htmlFor=\"train\">Train</label>\n\n        <Input\n          type=\"radio\"\n          name=\"mode\"\n          id=\"test\"\n          value={TESTING}\n          checked={mode === TESTING}\n          onChange={this.handleChange}\n          disabled={training}\n        />\n        <label htmlFor=\"test\">Test</label>\n      </Container>\n    );\n  }\n}\n\nexport default connect(\n  ({ mode, training }) => ({\n    mode,\n    training,\n  }),\n  { toggleMode },\n)(ModeSelector);\n\n\n\n// WEBPACK FOOTER //\n// ./components/modeSelector.jsx","import React from 'react';\nimport { Provider } from 'react-redux';\n\nimport store from 'store';\nimport App from 'components/app';\n\nconst Root = () => (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nexport default Root;\n\n\n\n// WEBPACK FOOTER //\n// ./components/root.jsx","import { combineReducers } from 'redux';\n\nimport mode from './mode';\nimport training from './training';\nimport trainingData from './trainingData';\n\nexport default combineReducers({\n  mode,\n  training,\n  trainingData,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/index.js","import { TOGGLE_MODE, TRAINING } from '../constants';\n\nexport default function mode(state = TRAINING, action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case TOGGLE_MODE:\n      return payload.mode;\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/mode.js","import { TRAINING_START, TRAINING_STOP } from '../constants';\n\nexport default function training(state = false, action) {\n  const { type } = action;\n\n  switch (type) {\n    case TRAINING_START:\n      return true;\n\n    case TRAINING_STOP:\n      return false;\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/training.js","import { ADD_TRAINING_DATA, CLEAR_TRAINING_DATA } from '../constants';\n\nfunction trainingData(state = [], action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case ADD_TRAINING_DATA:\n      return [\n        ...state,\n        payload.data,\n      ];\n\n    case CLEAR_TRAINING_DATA:\n      return [];\n\n    default:\n      return state;\n  }\n}\n\nexport default trainingData;\n\n\n\n// WEBPACK FOOTER //\n// ./reducers/trainingData.js","import { take, put, select, call } from 'redux-saga/effects';\n\nimport addTrainingData from '../actionCreators/addTrainingData';\nimport { SET_INPUT, TRAINING, TESTING } from '../constants';\nimport { isDigit, formatOutput, findMaxIndex } from '../utils';\nimport { test } from '../nn';\n\nfunction* testing(input) {\n  const result = yield call(test, input);\n\n  alert(`You drew ${findMaxIndex(result)}!`); // eslint-disable-line no-alert\n}\n\nfunction* training(input) {\n  const value = prompt('What digit is it?'); // eslint-disable-line no-alert\n\n  if (value === null) {\n    return;\n  }\n\n  yield isDigit(value) ?\n      put(addTrainingData({ input, output: formatOutput(+value) })) :\n      call(training, input);\n}\n\nexport default function* drawingSaga() {\n  while (true) { // eslint-disable-line no-constant-condition\n    const { payload: { data } } = yield take(SET_INPUT);\n    const { mode } = yield select();\n\n    switch (mode) {\n      case TRAINING:\n        yield call(training, data);\n        break;\n\n      case TESTING:\n        yield call(testing, data);\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./sagas/drawing.js","import { all, call } from 'redux-saga/effects';\n\nimport modeSaga from './mode';\nimport drawingSaga from './drawing';\nimport waitingSaga from './waiting';\n\nexport default function* rootSaga() {\n  yield all([\n    call(modeSaga),\n    call(drawingSaga),\n    call(waitingSaga),\n  ]);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./sagas/index.js","import { take, put, call, select } from 'redux-saga/effects';\n\nimport { TOGGLE_MODE, TESTING } from '../constants';\nimport trainingStart from '../actionCreators/trainingStart';\nimport trainingStop from '../actionCreators/trainingStop';\nimport clearTrainingData from '../actionCreators/clearTrainingData';\nimport { train } from '../nn';\n\nfunction* toggleTesting() {\n  const { trainingData } = yield select();\n\n  if (!trainingData.length) {\n    return;\n  }\n\n  yield put(trainingStart());\n\n  const result = yield call(train, trainingData, {\n    /* Defaults FTW! */\n  });\n\n  console.log(result); // eslint-disable-line no-console\n\n  yield put(clearTrainingData());\n  yield put(trainingStop());\n}\n\nexport default function* modeSaga() {\n  while (true) { // eslint-disable-line no-constant-condition\n    yield take(TOGGLE_MODE);\n\n    const { mode } = yield select();\n\n    if (mode === TESTING) {\n      yield call(toggleTesting);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./sagas/mode.js","import { take } from 'redux-saga/effects';\n\nimport { TRAINING_START, TRAINING_STOP } from '../constants';\n\nexport default function* waitingSaga() {\n  while (true) { // eslint-disable-line no-constant-condition\n    yield take(TRAINING_START);\n\n    const elevatorMusicFrame = document.createElement('iframe');\n\n    elevatorMusicFrame.width = 0;\n    elevatorMusicFrame.height = 0;\n    elevatorMusicFrame.src = 'https://www.youtube.com/embed/VBlFHuCzPgY?rel=0&amp;controls=0&amp;showinfo=0&amp;autoplay=1';\n    elevatorMusicFrame.frameBorder = 0;\n\n    document.body.appendChild(elevatorMusicFrame);\n\n    yield take(TRAINING_STOP);\n\n    document.body.removeChild(elevatorMusicFrame);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./sagas/waiting.js","import { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport persistState from 'redux-localstorage';\n\nimport rootReducer from './reducers';\nimport rootSaga from './sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\n\n// eslint-disable-next-line no-underscore-dangle\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(\n    applyMiddleware(sagaMiddleware),\n    persistState('trainingData'),\n  ),\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n\n\n\n// WEBPACK FOOTER //\n// ./store.js","function sum(arr) {\n  return arr.reduce((prev, curr) => prev + curr, 0);\n}\n\nexport function getImageData(canvas, size = 20, precision = 5) {\n  const ctx = canvas.getContext('2d');\n  const cX = Math.floor(canvas.width / size);\n  const cY = Math.floor(canvas.height / size);\n  const data = [];\n\n  for (let i = 0; i < cX; i += 1) {\n    for (let j = 0; j < cY; j += 1) {\n      const { data: imageData } = ctx.getImageData(\n        i * size,\n        j * size,\n        size,\n        size,\n      );\n\n      const localData = [];\n\n      for (let k = 0; k < imageData.length; k += 4) {\n        localData.push(imageData[k + 3]);\n      }\n\n      data.push(sum(localData) / localData.length);\n    }\n  }\n\n  return data.map(num => +num.toFixed(precision));\n}\n\nexport function isValidImageData(data) {\n  return data.some(chunk => !!chunk);\n}\n\nexport function isDigit(value) {\n  return /^\\d$/.test(value);\n}\n\nexport function formatOutput(digit) {\n  return [...Array(10)].map((_, i) => +(i === digit));\n}\n\nexport function identity(val) {\n  return val;\n}\n\nexport function findMaxIndex(arr) {\n  return arr.reduce((prev, curr, i, all) =>\n      (curr > all[prev] ? i : prev), 0);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils.js","import { Architect, Trainer } from 'synaptic';\n\nconst network = new Architect.Perceptron(100, 20 /* YOLO */, 10);\n\nconst trainer = new Trainer(network);\n\nconst train = trainer.trainAsync.bind(trainer);\nconst test = network.activate.bind(network);\n\nexport { train, test };\n\n\n\n// WEBPACK FOOTER //\n// ./nn.js","export const SET_INPUT = 'SET_INPUT';\n\nexport const ADD_TRAINING_DATA = 'ADD_TRAINING_DATA';\nexport const CLEAR_TRAINING_DATA = 'CLEAR_TRAINING_DATA';\n\nexport const TRAINING_START = 'TRAINING_START';\nexport const TRAINING_STOP = 'TRAINING_STOP';\n\nexport const TOGGLE_MODE = 'TOGGLE_MODE';\nexport const TRAINING = 'TRAINING';\nexport const TESTING = 'TESTING';\n\n\n\n// WEBPACK FOOTER //\n// ./constants.js"],"sourceRoot":""}